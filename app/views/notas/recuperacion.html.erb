<h1>Recuperación</h1>

<div class="btn-container">
<a href="/notas/new" class="btn btn-dark card-btn"><i class='bx bx-plus' ></i>Nueva Nota</a>
<a href="/notas/top10" class="btn btn-dark card-btn"><i class='bx bxs-trophy' ></i>Top 10 alumnos</a>
<a href="/notas/recuperacion" class="btn btn-dark card-btn"><i class='bx bx-sync' ></i>Recuperación</a>
</div>


    <%= form_with url: "", method: :get do |form| %>
<div style="margin-top: 15px" class="row">
        <div class="form-group col-6">
            <h6>Buscar por curso</h6>
            <%= form.collection_select :curso, Curso.all, :id, :nombre, { selected: params[:curso], :include_blank => 'Selecciona un curso'}, {onchange: 'this.form.submit()', class: 'form-select'}%>
        </div>
        <div class="form-group col-6">
            <h6>Buscar por alumno</h6>
            <%= form.collection_select :alumno, Alumno.all, :id, :nombre, { selected: params[:alumno], :include_blank => 'Selecciona un alumno'}, {onchange: 'this.form.submit()', class: 'form-select'}%>
        </div>
</div>
    <% end %>


    <table class="table" style="margin-top: 20px;">
  <thead>
    <tr>
      <th scope="col">Alumno</th>
      <th scope="col">Curso</th>
      <th scope="col">Promedio</th>
      <th scope="col">Bimestre</th>
    </tr>
  </thead>

  <tbody>
  <% @notas.each do |nota| %>
    <tr>
      <th scope="row"><%= nota.alumno.nombre%></th>
      <td><%= nota.curso.nombre%></td>
      <td><%= nota.total%></td>
      <td><%= nota.bimestre%></td>
    </tr>
  <% end %>
  </tbody>
</table>